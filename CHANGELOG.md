# Changelog

All notable changes to the project shall be documented in this file.

## 1.1.0

### Added

* Added support for SCPs, Session Policies, Permission Boundaries, and Resource Policies
* Added caching for S3 bucket policies, KMS key policies, SNS topic policies, SQS queue policies
* Added support for obtaining AWS Organizations data (OrganizationTree objects) and the `orgs` subcommand
* Implemented logging with `logging` module for the library
* Added new findings for `analysis` submodule/command
* Added new output format for `visualization`: GraphML
* Added support for the `PMAPPER_STORAGE` environment variable to set a custom location where Graph/OrganizationTree data is stored
* Added a starter Dockerfile (should work with modifications to add creds via env vars or from an EC2 instance with an instance profile assigned)
* Various bugfixes and improvements

### Changed

* Separated out `graph` subcommand into separate subsubcommands (`graph create` rather than `graph --create`)

### Removed

* (Library code) Most instances of `dprint`, `debug` params, `output` params except for `write_*` functions. Replaced `write_*` functions with `print_*` functions.
* (Library code) Dropping support for certain code in `principalmapper.gathering`: `get_unfilled_*`, `get_policies_and_fill_out`. You should use `get_nodes_groups_and_policies` instead.

### Special Thanks

* @yehudacohen
* @pr454nn4kum4r
* @kmcquade
* @danieladams456
* All my colleagues at NCC Group
* Rami McCarthy

## 1.0.1

### Added

* Added support for OpenBSD standard storage location
* Various bugfixes and improvements

### Special Thanks

* @ancwatson
* @buzzdeee 

## 1.0.0

### Added

* Implemented a new graph storage solution
* Implemented full local policy simulation and replaced all calls to AWS IAM simulation APIs
* Implemented a new querying interface: `argquery`
* Implemented a REPL
* Added the `analysis` module and command
* Docstrings and type-hints
* Full Python 3.5+ support

### Changed

* Library code is now under `principalmapper` and not `principalmap`

### Removed

* Support for Python 2.X completely dropped
* Support for calling AWS IAM's simulation APIs completely dropped
* Graph generated by previous versions are not compatible with v1.0.0

### Special Thanks

* All my colleagues at NCC Group for their support and suggestions
